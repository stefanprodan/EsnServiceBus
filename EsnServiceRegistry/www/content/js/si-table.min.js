/*! si-table 0.2.3 30-07-2015 */
!function(a,b){angular.module("siTable.directives",[]),angular.module("siTable.filters",[]),angular.module("siTable",["siTable.directives","siTable.filters"]),angular.module("siTable.directives").directive("siSelectAll",function(){return{restrict:"A",scope:!0,require:"^siTable",controller:["$scope","$element",function(a,b){a.$element=b[0],b.on("change",function(b){for(var c=0;c<a.currentList.length;c++)a.currentList[c].selected=b.target.checked;a.$apply()}),a.$watch("currentList",function(){if(a.currentList&&a.currentList.length){for(var b=0;b<a.currentList.length;b++)if(!a.currentList[b].selected)return void(a.$element.checked=!1);a.$element.checked=!0}else a.$element.checked=!1},!0)}]}}),angular.module("siTable.directives").directive("siSortable",function(){return{restrict:"A",priority:1001,require:"?^siTable",scope:!0,compile:function(a,b){var c,d=b.ngRepeat.indexOf(" as ");return d>=0&&(c=b.ngRepeat.substr(d),b.ngRepeat=b.ngRepeat.slice(0,d)),b.ngRepeat+=" | orderBy:sortingParams.sortArray",b.ngRepeat+=" | siPagination:paginationParams",c&&(b.ngRepeat+=c),b.ngRepeat=b.ngRepeat.replace(" in "," in $parent.currentList = "),function(a,b,c,d){if(d){if(a.paginationParams=d.paginationParams,c.ngRepeat){var e=c.ngRepeat.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),f=e[2].split("|")[0].trim();a.$watchCollection(f,function(){a.paginationParams.offset=0})}a.$watch("paginationParams.remote",function(b){b?a.sortingParams={single:!1}:a.sortingParams=d.sortingParams,"single"===c.siSortable&&(a.sortingParams.single=!0)})}}}}}),angular.module("siTable.directives").directive("siTable",function(){return{restrict:"A",scope:{sorting:"=?"},controller:["$scope",function(a){var b=this;this.paginationParams={offset:0,limit:1/0,remote:!1,firstText:"First",lastText:"Last",previousText:"Previous",nextText:"Next"},this.sortingParams={sortArray:[],single:!1},a.$watch(function(){return b.sortingParams.sortArray},function(b){angular.isArray(a.sorting)||(a.sorting=[]),a.sorting.splice(0,a.sorting.length);for(var c=0;c<b.length;c++)a.sorting.push(b[c])},!0)}]}}),angular.module("siTable.directives").directive("siTablePagination",function(){return{restrict:"AE",require:"^siTable",scope:{offset:"=?"},template:'    <ul class="pagination" ng-show="params.total > params.limit">    <li ng-class="{disabled: params.offset === 0}">    <a href ng-click="setPage(1)">{{ params.firstText }}</a>    </li>    <li ng-class="{disabled: params.offset === 0}">    <a href ng-click="setPage(currPage - 1)">{{ params.previousText }}</a>    </li>    <li ng-repeat="page in showPages"    ng-class="{active: currPage === page}">    <a href ng-click="setPage(page)">{{ page }}</a>    </li>    <li ng-class="{disabled:      params.offset + params.limit >= params.total}">      <a href ng-click="setPage(currPage + 1)">{{ params.nextText }}</a>      </li>      <li ng-class="{disabled:        params.offset + params.limit >= params.total}">        <a href ng-click="setPage(maxPage)">{{ params.lastText }}</a>        </li>        </ul>',link:function(a,b,c,d){var e=10;a.params=d.paginationParams,a.setPage=function(b){b>=1&&b<=a.maxPage&&(a.params.offset=(b-1)*a.params.limit)},a.$watch("params",function(b){for(var c=Math.floor(b.offset/b.limit),d=Math.ceil(b.total/b.limit)-1,f=Math.max(0,Math.min(c-Math.ceil(e/2),d-e+1)),g=[],h=f,i=0;d>=h&&e>i;i++)g.push(h+1),h++;a.maxPage=d+1,a.currPage=c+1,a.showPages=g,a.offset=b.offset},!0),a.$watch("params.total",function(){a.params.offset=0}),c.$observe("total",function(b){isNaN(parseInt(b,10))||(a.params.total=parseInt(b,10),a.params.remote=!0)}),c.$observe("limit",function(b){isNaN(parseInt(b,10))||(a.params.limit=parseInt(b,10))}),c.$observe("indices",function(a){isNaN(parseInt(a,10))||(e=parseInt(a,10))}),c.$observe("firstText",function(b){b&&(a.params.firstText=b)}),c.$observe("lastText",function(b){b&&(a.params.lastText=b)}),c.$observe("previousText",function(b){b&&(a.params.previousText=b)}),c.$observe("nextText",function(b){b&&(a.params.nextText=b)})}}}),angular.module("siTable.directives").directive("sortBy",["$rootScope",function(a){return{restrict:"A",transclude:!0,replace:!0,scope:!0,require:"^siTable",template:'    <th class="sort" ng-click="sort()" ng-class="{      \'sort-asc\': state === \'asc\',      \'sort-desc\': state === \'desc\'    }">    <a href ng-transclude></a>    <span class="sort-caret sort-asc"    ng-if="state === \'desc\'">&#9660;</span>    <span class="sort-caret sort-desc"    ng-if="state === \'asc\'">&#9650;</span>    </th>',link:function(b,c,d,e){var f=e.sortingParams;d.$observe("sortBy",function(a){b.sortBy=a}),"desc"===d.sortInit?(f.sortArray.push("-"+d.sortBy),b.state="desc"):d.sortInit&&(f.sortArray.push(d.sortBy),b.state="asc"),b.sort=function(){var c=d.sortBy;c&&f&&(f.single&&a.$broadcast("resetSorting"),-1!==f.sortArray.indexOf(c)?(f.single?f.sortArray=["-"+c]:f.sortArray[f.sortArray.indexOf(c)]="-"+c,b.state="desc"):-1!==f.sortArray.indexOf("-"+c)?(f.single?f.sortArray=[]:f.sortArray.splice(f.sortArray.indexOf("-"+c),1),b.state=""):(f.single?f.sortArray=[c]:f.sortArray.push(c),b.state="asc"))},b.$on("resetSorting",function(a){b.state=""})}}}]),angular.module("siTable.filters").filter("siPagination",function(){return function(a,b){return!b||b.remote?a:(a&&(b.total=a.length),a&&a.length?a.slice(b.offset,b.offset+b.limit):[])}})}(window,document);